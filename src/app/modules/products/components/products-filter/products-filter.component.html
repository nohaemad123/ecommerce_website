<aside class="widget-area">
    <div class="mb-4 d-flex align-items-center justify-content-between">
        <h4 class="mb-0">{{'FilterProducts'|translate}}</h4>
        <div class="btn-r-filter">
            <button type="" (click)="onCloseFilter()" class="btn-filter"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="btn-reset-filter">
            <button type="reset" class="btn btn-default"  tabindex="6" rippleEffect (click)="resetFilter()">
                {{'Reset' | translate}}
            </button>
        </div>
    </div>
    <div class="widget widget_price_filter">
        <h4 class="widget-title"><span>{{'FilterByPrice'|translate}}</span></h4>
        <div class="widget widget_search widget_search_c">
            <form class="search-form d-flex align-items-center justify-content-end gap-3">
                <div class="d-flex align-items-center justify-content-end gap-2">
                    <input type="number" class="search-field" placeholder="{{'From'|translate}}"
                    [(ngModel)]="filterCriteria.priceMin" [ngModelOptions]="{standalone: true}">
                    <span>-</span>
                    <input type="number" class="search-field" placeholder="{{'To'|translate}}"
                    [(ngModel)]="filterCriteria.priceMax" [ngModelOptions]="{standalone: true}">
                </div>
                <a class="fw-bold" (click)="onChangeFilter()">{{'Go'|translate}}</a>
            </form>
        </div>
        <div class="collection_filter_by_price">
            <ngx-slider [(value)]="filterCriteria.priceMin" [(highValue)]="filterCriteria.priceMax" [options]="options"></ngx-slider>
        </div>
    </div>
    <div class="widget widget_categories">
        <h4 class="widget-title"><span>{{'Categories'|translate}}</span></h4>
        <ul>
            <li>
                <div class="form-check form-radio mb-3" *ngFor="let category of categoriesData">
                    <input [(ngModel)]="filterCriteria.categoryId" [ngModelOptions]="{standalone: true}" (ngModelChange)="onChangeFilter()" class="form-check-input" type="radio" name="categories" [value]="category?.id" [id]="category?.id">
                    <label class="form-check-label" [for]="category?.id">
                        {{ category?.name }}
                    </label>
                </div>
            </li>
        </ul>
    </div>
    <!-- <div class="widget widget_categories">
        <h4 class="widget-title"><span>Sub Categories</span></h4>
        <ul>
            <li>
                <div class="form-check mb-3" *ngFor="let subcategory of subCategoriesData">
                    <input class="form-check-input" type="checkbox" [value]="subcategory.value" [id]="subcategory.value">
                    <label class="form-check-label" [for]="subcategory.value">
                        {{ subcategory?.name }}
                    </label>
                </div>
            </li>
        </ul>
    </div> -->
    <div class="widget widget_categories">
        <h4 class="widget-title"><span>{{'Brands'|translate}}</span></h4>
        <ul>
            <li>
                <div class="form-check mb-3"  *ngFor="let brand of brandsData">
                    <!-- <input class="form-check-input" [(ngModel)]="filterCriteria.brandIds" [ngModelOptions]="{standalone: true}" (ngModelChange)="onChangeFilter()" type="checkbox" [value]="brand.value" [id]="brand.value"> -->
                    <input class="form-check-input"  [(ngModel)]="brand.selected" (change)="onSelectBrand()" type="checkbox" [value]="brand.value" [id]="brand.value">
                    <label class="form-check-label" [for]="brand.value">
                        {{ brand?.name }}
                    </label>
                </div>
            </li>
        </ul>
    </div>

    <div class="widget widget_tag_cloud">
        <h4 class="widget-title"><span>{{'Tags'|translate}}</span></h4>
        <div class="tagcloud">
            <span *ngFor="let tag of tagsData" (click)="onSelectTag(tag)" [class.active]="tag.selected">{{ tag.name }}</span>
        </div>
    </div>

    <div class="btns-wrapper">
        <button type="submit" class="btn btn-primary"  tabindex="5" rippleEffect (click)="applyFilter()">
            {{'Apply' | translate}}
        </button>
        <button type="reset" class="btn btn-default"  tabindex="6" rippleEffect (click)="resetFilter()">
            {{'Reset' | translate}}
        </button>
    </div>
</aside>